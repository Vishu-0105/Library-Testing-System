{% extends "base.html" %}
{% block title %}Member Login - City Library Management System{% endblock %}
{% block content %}

<div class="welcome-box">
    <h2><i class="fas fa-user-lock"></i> Library Member Authentication</h2>
    <p>Access your personalized library dashboard with secure member login and role-based permissions.</p>
</div>

<div style="max-width: 500px; margin: 0 auto;">
    <form method="POST" action="{{ url_for('login') }}" class="card">
        <h3 style="text-align: center; margin-bottom: 2rem; color: var(--primary-color);">
            <i class="fas fa-id-card"></i> Library Member Sign In
        </h3>
        
        <div class="form-group">
            <label for="username">
                <i class="fas fa-user"></i> Member ID / Username
            </label>
            <input 
                type="text" 
                id="username" 
                name="username" 
                placeholder="Enter your library member ID" 
                required 
                autocomplete="username"
                style="padding-left: 3rem; background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"%232d5016\"><path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/></svg>'); background-repeat: no-repeat; background-position: 10px center; background-size: 20px;">
        </div>
        
        <div class="form-group">
            <label for="password">
                <i class="fas fa-lock"></i> Password
            </label>
            <input 
                type="password" 
                id="password" 
                name="password" 
                placeholder="Enter your library password" 
                required 
                autocomplete="current-password"
                style="padding-left: 3rem;">
        </div>
        
        <div class="form-group">
            <button type="submit" class="btn btn-success" style="width: 100%; font-size: 1.1rem; padding: 1.2rem;">
                <i class="fas fa-sign-in-alt"></i> Access Library System
            </button>
        </div>
        
        <div style="text-align: center; margin-top: 1.5rem;">
            <p style="color: var(--text-secondary);">
                <i class="fas fa-shield-alt"></i> Secure library member authentication with session management
            </p>
        </div>
    </form>
</div>

<div class="card">
    <h3><i class="fas fa-users"></i> Test Library Member Accounts</h3>
    <p>Use these demonstration accounts to explore different member roles and library system features:</p>
    
    <div class="grid grid-2">
        <div style="background: linear-gradient(135deg, #f0fff4, #c6f6d5); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--primary-color);">
            <h4><i class="fas fa-crown" style="color: var(--primary-color);"></i> Head Librarian Access</h4>
            <p><strong>Username:</strong> <code style="background: white; padding: 2px 8px; border-radius: 4px; cursor: pointer;" onclick="copyToClipboard('librarian')">librarian</code></p>
            <p><strong>Password:</strong> <code style="background: white; padding: 2px 8px; border-radius: 4px; cursor: pointer;" onclick="copyToClipboard('lib123')">lib123</code></p>
            <p><small>Full administrative access with management privileges</small></p>
        </div>
        
        <div style="background: linear-gradient(135deg, #ebf8ff, #bee3f8); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-color);">
            <h4><i class="fas fa-graduation-cap" style="color: var(--accent-color);"></i> Student Member</h4>
            <p><strong>Username:</strong> <code style="background: white; padding: 2px 8px; border-radius: 4px; cursor: pointer;" onclick="copyToClipboard('student')">student</code></p>
            <p><strong>Password:</strong> <code style="background: white; padding: 2px 8px; border-radius: 4px; cursor: pointer;" onclick="copyToClipboard('student456')">student456</code></p>
            <p><small>Standard student borrowing privileges and catalog access</small></p>
        </div>
        
        <div style="background: linear-gradient(135deg, #fefbeb, #fef3c7); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--secondary-color);">
            <h4><i class="fas fa-chalkboard-teacher" style="color: var(--secondary-color);"></i> Faculty Member</h4>
            <p><strong>Username:</strong> <code style="background: white; padding: 2px 8px; border-radius: 4px; cursor: pointer;" onclick="copyToClipboard('faculty')">faculty</code></p>
            <p><strong>Password:</strong> <code style="background: white; padding: 2px 8px; border-radius: 4px; cursor: pointer;" onclick="copyToClipboard('faculty789')">faculty789</code></p>
            <p><small>Extended borrowing privileges for faculty research</small></p>
        </div>
        
        <div style="background: linear-gradient(135deg, #f7fafc, #edf2f7); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--text-secondary);">
            <h4><i class="fas fa-user" style="color: var(--text-secondary);"></i> Guest User</h4>
            <p><strong>Username:</strong> <code style="background: white; padding: 2px 8px; border-radius: 4px; cursor: pointer;" onclick="copyToClipboard('guest')">guest</code></p>
            <p><strong>Password:</strong> <code style="background: white; padding: 2px 8px; border-radius: 4px; cursor: pointer;" onclick="copyToClipboard('guest321')">guest321</code></p>
            <p><small>Limited catalog access for visitor browsing</small></p>
        </div>
    </div>
</div>

<div class="card">
    <h3><i class="fas fa-vial"></i> Selenium Testing Scenarios</h3>
    <p>This library login system supports comprehensive automated testing scenarios:</p>
    
    <div class="grid grid-3">
        <div>
            <h4 style="color: var(--success-color);"><i class="fas fa-check-circle"></i> Valid Login Tests</h4>
            <ul>
                <li>Successful member authentication with correct credentials</li>
                <li>Role-based dashboard redirection</li>
                <li>Library session establishment verification</li>
                <li>Member preference and history loading</li>
            </ul>
        </div>
        
        <div>
            <h4 style="color: var(--error-color);"><i class="fas fa-times-circle"></i> Invalid Login Tests</h4>
            <ul>
                <li>Wrong member ID or password rejection</li>
                <li>Empty field validation testing</li>
                <li>Library security error message display</li>
                <li>Multiple failed attempt handling</li>
            </ul>
        </div>
        
        <div>
            <h4 style="color: var(--info-color);"><i class="fas fa-shield-alt"></i> Security Tests</h4>
            <ul>
                <li>SQL injection prevention for library system</li>
                <li>XSS attack protection testing</li>
                <li>Session hijacking prevention</li>
                <li>Member data protection validation</li>
            </ul>
        </div>
    </div>
</div>

<div style="text-align: center; margin-top: 2rem;">
    <a href="{{ url_for('index') }}" class="btn btn-primary">
        <i class="fas fa-arrow-left"></i> Back to Home
    </a>
    <a href="{{ url_for('about') }}" class="btn btn-primary">
        <i class="fas fa-info-circle"></i> About Library
    </a>
</div>

<script>
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(function() {
        // Create temporary notification
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed; top: 20px; right: 20px; z-index: 1000;
            background: var(--success-color); color: white; padding: 12px 20px;
            border-radius: 8px; font-weight: bold;
            animation: slideIn 0.3s ease-out;
        `;
        notification.innerHTML = `<i class="fas fa-check"></i> Copied: ${text}`;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.remove();
        }, 2000);
    });
}
</script>

{% endblock %}
